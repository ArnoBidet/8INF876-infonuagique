stateDiagram-v2
    [*] --> Initializing : start()
    
    Initializing --> Discovering : protocol.start_discovery()
    Discovering --> Operating : neighbors found
    
    state Operating {
        [*] --> InZone
        InZone --> AtBorder : position analysis
        AtBorder --> InZone : move inward
        AtBorder --> OutOfZone : drift outward
        OutOfZone --> Correcting : generate correction
        Correcting --> InZone : apply correction
        
        state InZone {
            [*] --> Monitoring
            Monitoring --> AlertingExit : neighbor exit
            AlertingExit --> Monitoring : alert sent
        }
    }
    
    Operating --> Stopped : stop()
    Stopped --> [*]